// DEBUG - vedem dacă desenăm pe canvas
(() => {
  const canvas = document.getElementById('flames-bg');
  if (!canvas) { console.error('NU găsesc #flames-bg'); return; }

  const ctx = canvas.getContext('2d', { alpha: true });
  const container = canvas.parentElement;
  let DPR = Math.min(window.devicePixelRatio || 1, 2);
  let W, H;

  function resize() {
    const rect = container.getBoundingClientRect();
    W = Math.max(1, rect.width);
    H = Math.max(1, container.offsetHeight || rect.height || Math.round(window.innerHeight * 0.78));
    canvas.width = W * DPR;
    canvas.height = H * DPR;
    ctx.setTransform(DPR, 0, 0, DPR, 0, 0);
  }
  resize();
  addEventListener('resize', resize, { passive: true });

  let t = 0;
  function loop(){
    t += 0.016;
    // fundal vizibil ca să știm că desenăm
    ctx.fillStyle = '#102038';
    ctx.fillRect(0,0,W,H);

    // chenar gros vizibil
    ctx.lineWidth = 6;
    ctx.strokeStyle = '#ffbf2b';
    ctx.strokeRect(3,3,W-6,H-6);

    // o bilă care se plimbă
    const x = (Math.sin(t)*0.5+0.5) * (W-80) + 40;
    const y = H*0.75;
    const grd = ctx.createRadialGradient(x,y,0,x,y,60);
    grd.addColorStop(0,'rgba(255,191,43,.6)');
    grd.addColorStop(1,'rgba(255,191,43,0)');
    ctx.fillStyle = grd;
    ctx.beginPath(); ctx.arc(x,y,60,0,Math.PI*2); ctx.fill();

    requestAnimationFrame(loop);
  }
  console.log('Canvas DEBUG pornește…');
  loop();
})();
