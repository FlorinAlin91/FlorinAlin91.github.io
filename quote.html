<!-- ===== Quote request (drop-in, works on iOS) ===== -->
<section id="quote" class="ms-card">
  <h2>Mihaila Smart Solutions</h2>
  <p class="subtitle">Quote request</p>

  <form id="quoteForm" onsubmit="return false;">
    <label>Your name</label>
    <input id="qName" type="text" placeholder="Your name" autocomplete="name">

    <label>Email</label>
    <input id="qEmail" type="email" placeholder="your@email.com" autocomplete="email">

    <label>Message</label>
    <textarea id="qMsg" rows="5" placeholder="Tell us about your project..."></textarea>
  </form>

  <!-- Buttons (use <a> so iOS opens apps reliably) -->
  <a id="btnMailto" class="btn btn-yellow" href="#">Send email</a>
  <a id="btnGmail"  class="btn btn-red"    href="#" target="_blank" rel="noopener">Open in Gmail</a>
  <a id="btnOutlk"  class="btn btn-blue"   href="#" target="_blank" rel="noopener">Open in Outlook Web</a>
  <a id="btnWA"     class="btn btn-green"  href="#" target="_blank" rel="noopener">WhatsApp message</a>
  <button id="btnCopy" class="btn btn-dark" type="button">Copy message</button>

  <p class="copy" style="opacity:.7;margin-top:10px;">© 2025 Mihaila Smart Solutions</p>
</section>

<style>
  .ms-card{background:#0b0b0b;border-radius:18px;padding:18px;margin:18px;
    box-shadow:0 0 0 1px rgba(255,191,43,.25),0 10px 30px rgba(0,0,0,.6)}
  .ms-card h2{color:#fff;margin:0 0 4px;font-size:22px}
  .ms-card .subtitle{color:#bbb;margin:0 0 16px}
  .ms-card label{display:block;color:#cfcfcf;font-size:14px;margin:12px 0 6px}
  .ms-card input,.ms-card textarea{
    width:100%;background:#111;border:1px solid #2a2a2a;color:#fff;border-radius:12px;
    padding:12px 14px;font-size:16px;outline:none
  }
  .btn{display:block;width:100%;text-align:center;padding:14px 16px;border-radius:14px;
    font-weight:700;margin:14px 0 0;text-decoration:none;border:none;cursor:pointer}
  .btn-yellow{background:#ffbf2b;color:#000}
  .btn-red{background:#e53935;color:#fff}
  .btn-blue{background:#1e88e5;color:#fff}
  .btn-green{background:#24d366;color:#0b2816}
  .btn-dark{background:#2b2b2b;color:#fff}
</style>

<script>
(() => {
  // ====== SETTINGS — set your email and WhatsApp ======
  const RECEIVER_EMAIL = "contact@mihailasmartsolutions.co"; // ← pune emailul tău
  const WHATSAPP_E164  = "40700000000"; // ← fără +, ex: "40744XXXXXX"
  const SUBJECT = "Quote request — Mihaila Smart Solutions";
  // =====================================================

  const el = (id) => document.getElementById(id);
  const nameI = el("qName"), emailI = el("qEmail"), msgI = el("qMsg");

  function buildBody() {
    const name = nameI.value.trim() || "(no name)";
    const email = emailI.value.trim() || "(no email)";
    const msg = msgI.value.trim() || "(no message)";
    return Name: ${name}\nEmail: ${email}\n\nMessage:\n${msg};
  }

  function enc(s){ return encodeURIComponent(s); }

  function refreshLinks(){
    const body = buildBody();
    // mailto (iOS safe as direct <a href>)
    el("btnMailto").setAttribute(
      "href",
      mailto:${encodeURIComponent(RECEIVER_EMAIL)}?subject=${enc(SUBJECT)}&body=${enc(body)}
    );
    // Gmail web
    el("btnGmail").setAttribute(
      "href",
      https://mail.google.com/mail/?view=cm&fs=1&to=${enc(RECEIVER_EMAIL)}&su=${enc(SUBJECT)}&body=${enc(body)}
    );
    // Outlook Web
    el("btnOutlk").setAttribute(
      "href",
      https://outlook.office.com/mail/deeplink/compose?to=${enc(RECEIVER_EMAIL)}&subject=${enc(SUBJECT)}&body=${enc(body)}
    );
    // WhatsApp
    el("btnWA").setAttribute(
      "href",
      https://wa.me/${WHATSAPP_E164}?text=${enc(body)}
    );
  }

  // Update links as the user types
  ["input","change","keyup"].forEach(evt=>{
    nameI.addEventListener(evt, refreshLinks);
    emailI.addEventListener(evt, refreshLinks);
    msgI.addEventListener(evt, refreshLinks);
  });
  refreshLinks();

  // Copy message
  el("btnCopy").addEventListener("click", async () => {
    const body = buildBody();
    try {
      await navigator.clipboard.writeText(body);
      el("btnCopy").textContent = "Copied!";
      setTimeout(()=>el("btnCopy").textContent="Copy message",1200);
    } catch {
      alert("Copied text:\n\n" + body);
    }
  });
})();
</script>
